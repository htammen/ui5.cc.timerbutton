{"version":3,"file":"library-preload.js","sections":[{"offset":{"line":1,"column":0},"map":{"version":3,"names":[],"sources":["library-preload.js?bundle-code-0"],"mappings":"AAAA;AACA","sourcesContent":["sap.ui.require.preload({\n"],"sourceRoot":""}},{"offset":{"line":3,"column":0},"map":{"version":3,"file":"TimerButton.js","names":["sap","ui","define","Button","ButtonRenderer","___library","TimeoutEventType","TimerButton","extend","renderer","metadata","library","properties","timeout","type","group","defaultValue","timeoutButtonText","timeoutIcon","timeoutEventType","enabled","events","press","constructor","_constructor","id","settings","Button.prototype.constructor.call","this","counter","timeoutHandle","oldText","oldIcon","_timeoutHandler","setProperty","getProperty","visible","setText","_setText","sText","Button.prototype.setText.call","setEnabled","_setEnabled","bEnabled","self","setTimeout","_sTypeIconURI","Button.prototype.setEnabled.call","setVisible","_setVisible","bVisible","Button.prototype.setVisible.call"],"sources":["TimerButton.ts"],"sourcesContent":["/*!\n * ${copyright}\n */\nimport Button from \"sap/m/Button\";\n//@ts-ignore\nimport ButtonRenderer from \"sap/m/ButtonRenderer\";\nimport { TimeoutEventType } from \"./library\"\n\n/**\n * Constructor for a new <code>ui5.cc.timerbutton.TimerButton</code> control.\n *\n * This control works as folows.\n * - You set the enabled or visible property of your Button to false\n * - The control gets disabled or invisible, see property timeoutEventType\n * - if timeoutEventType === enabled\n * -- The control shows the \"timeoutIcon\" (property) instead of the original icon\n * -- after you set the enabled property of the button to true shows the \"timeoutButtonText\" (property), if defined\n * - after \"timeout\" (property) milliseconds the button gets enabled / visible and the original text and icon are shown at the button.\n * @extends Button\n *\n * @author Helmut Tammen\n * @version ${version}\n *\n * @constructor\n * @public\n * @name ui5.cc.timerbutton.TimerButton\n */\nexport default class TimerButton extends Button {\n\tprivate counter: number = 0;\n\tprivate timeoutHandle: any = null;\n\tprivate oldText: string = '';\n\tprivate oldIcon: any = null;\n\t// The following three lines were generated and should remain as-is to make TypeScript aware of the constructor signatures\n\tconstructor(id?: string | $TimerButtonSettings);\n\tconstructor(id?: string, settings?: $TimerButtonSettings);\n\tconstructor(id?: string, settings?: $TimerButtonSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: object = {\n\t\tlibrary: \"ui5.cc.timerbutton\",\n\t\tproperties: {\n\t\t\ttimeout: {\n\t\t\t\ttype: 'int',\n\t\t\t\tgroup: 'Misc',\n\t\t\t\tdefaultValue: 5000\n\t\t\t},\n\t\t\ttimeoutButtonText: {\n\t\t\t\ttype: 'string',\n\t\t\t\tgroup: 'Misc',\n\t\t\t\tdefaultValue: null\n\t\t\t},\n\t\t\ttimeoutIcon: {\n\t\t\t\ttype: 'string',\n\t\t\t\tgroup: 'Misc',\n\t\t\t\tdefaultValue: 'sap-icon://pending'\n\t\t\t},\n\t\t\ttimeoutEventType: {\n\t\t\t\ttype: \"ui5.cc.timerbutton.EventType\",\n\t\t\t\tgroup: \"Misc\",\n\t\t\t\tdefaultValue: TimeoutEventType.enabled\n\t\t\t}\n\t\t},\n\t\tevents: {\n\t\t\t/**\n\t\t\t * Event is fired when the user clicks the control.\n\t\t\t */\n\t\t\tpress: {}\n\t\t}\n\t};\n\n\t// static renderer: typeof ButtonRenderer = ButtonRenderer;\n\tstatic renderer = ButtonRenderer\n\n\tprivate _timeoutHandler() {\n\t\tthis.counter = 0\n\t\tthis.setProperty('text', this.oldText)\n\t\tthis.setProperty('icon', this.oldIcon || null)\n\t\tthis.oldIcon = null\n\t\tswitch (this.getProperty('timeoutEventType')) {\n\t\t\tcase TimeoutEventType.enabled:\n\t\t\t\tthis.setProperty('enabled', true)\n\t\t\t\tbreak;\n\n\t\t\tcase TimeoutEventType.visible:\n\t\t\t\tthis.setProperty('visible', true)\n\t\t\t\tbreak\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetText(sText: string) {\n\t\tthis.oldText = sText\n\t\treturn super.setText(sText)\n\t}\n\n\tsetEnabled(bEnabled?: boolean): this {\n\t\tif (this.getProperty('timeoutEventType') === TimeoutEventType.enabled && bEnabled && this.getProperty('timeout') > 0) {\n\t\t\tthis.oldText = this.getProperty('text')\n\t\t\tthis.setProperty('text', this.getProperty('timeoutButtonText'))\n\t\t\tconst self = this;\n\t\t\tthis.timeoutHandle = setTimeout(function() {\n\t\t\t\tself._timeoutHandler();\n\t\t\t}, this.getProperty('timeout'));\n\t\t\treturn this;\n\t\t} else {\n\t\t\t// @ts-ignore\n\t\t\tthis.oldIcon = this.oldIcon || this.getProperty('icon') || this._sTypeIconURI\n\t\t\tthis.setProperty('icon', this.getProperty('timeoutIcon'))\n\t\t\treturn super.setEnabled(bEnabled)\n\t\t}\n\t}\n\n\tsetVisible(bVisible?: boolean): this {\n\t\tif (this.getProperty('timeoutEventType') === TimeoutEventType.visible && bVisible && this.getProperty('timeout') > 0) {\n\t\t\tthis.oldText = this.getProperty('text')\n\t\t\tthis.setProperty('text', this.getProperty('timeoutButtonText'))\n\t\t\tconst self = this;\n\t\t\tthis.timeoutHandle = setTimeout(function() {\n\t\t\t\tself._timeoutHandler();\n\t\t\t}, this.getProperty('timeout'));\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn super.setVisible(bVisible)\n\t\t}\n\t}\n}\n"],"mappings":"AAAA;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,6DAAAC,EAAAC,EAAAC,GAAA,mBAMSC,EAAgBD,EAAA,oBAEzB,MAmBqBE,EAAoBJ,EAAMK,OAAA,kCA6CvCC,SAAWL,EAjCFM,SAAmB,CAClCC,QAAS,qBACTC,WAAY,CACXC,QAAS,CACRC,KAAM,MACNC,MAAO,OACPC,aAAc,KAEfC,kBAAmB,CAClBH,KAAM,SACNC,MAAO,OACPC,aAAc,MAEfE,YAAa,CACZJ,KAAM,SACNC,MAAO,OACPC,aAAc,sBAEfG,iBAAkB,CACjBL,KAAM,+BACNC,MAAO,OACPC,aAAcV,EAAiBc,UAGjCC,OAAQ,CAIPC,MAAO,CAAC,IAhCVC,YAAW,SAAAC,EAACC,EAAaC,GACxBC,6BAAAC,KAAMH,EAAIC,GAAUE,KARbC,QAAkB,EAACD,KACnBE,cAAqB,KAAIF,KACzBG,QAAkB,GAAEH,KACpBI,QAAe,IAMvB,EAqCQC,gBAAe,SAAAA,IACtBL,KAAKC,QAAU,EACfD,KAAKM,YAAY,OAAQN,KAAKG,SAC9BH,KAAKM,YAAY,OAAQN,KAAKI,SAAW,MACzCJ,KAAKI,QAAU,KACf,OAAQJ,KAAKO,YAAY,qBACxB,KAAK7B,EAAiBc,QACrBQ,KAAKM,YAAY,UAAW,MAC5B,MAED,KAAK5B,EAAiB8B,QACrBR,KAAKM,YAAY,UAAW,MAC5B,MAED,QACC,MAEH,EAEAG,QAAO,SAAAC,EAACC,GACPX,KAAKG,QAAUQ,EACf,OAAAC,yBAAAZ,KAAqBW,EACtB,EAEAE,WAAU,SAAAC,EAACC,GACV,GAAIf,KAAKO,YAAY,sBAAwB7B,EAAiBc,SAAWuB,GAAYf,KAAKO,YAAY,WAAa,EAAG,CACrHP,KAAKG,QAAUH,KAAKO,YAAY,QAChCP,KAAKM,YAAY,OAAQN,KAAKO,YAAY,sBAC1C,MAAMS,EAAOhB,KACbA,KAAKE,cAAgBe,WAAW,WAC/BD,EAAKX,iBACN,EAAGL,KAAKO,YAAY,YACpB,OAAOP,IACR,KAAO,CAENA,KAAKI,QAAUJ,KAAKI,SAAWJ,KAAKO,YAAY,SAAWP,KAAKkB,cAChElB,KAAKM,YAAY,OAAQN,KAAKO,YAAY,gBAC1C,OAAAY,4BAAAnB,KAAwBe,EACzB,CACD,EAEAK,WAAU,SAAAC,EAACC,GACV,GAAItB,KAAKO,YAAY,sBAAwB7B,EAAiB8B,SAAWc,GAAYtB,KAAKO,YAAY,WAAa,EAAG,CACrHP,KAAKG,QAAUH,KAAKO,YAAY,QAChCP,KAAKM,YAAY,OAAQN,KAAKO,YAAY,sBAC1C,MAAMS,EAAOhB,KACbA,KAAKE,cAAgBe,WAAW,WAC/BD,EAAKX,iBACN,EAAGL,KAAKO,YAAY,YACpB,OAAOP,IACR,KAAO,CACN,OAAAuB,4BAAAvB,KAAwBsB,EACzB,CACD,IAAC,OApGmB3C,CAAW","sourceRoot":""}},{"offset":{"line":9,"column":0},"map":{"version":3,"file":"library.js","names":["sap","ui","define","ObjectPath","coreLib","getCore","initLibrary","name","version","dependencies","types","interfaces","controls","elements","noLibraryCSS","TimeoutEventType","thisLib","get"],"sources":["library.ts"],"sourcesContent":["/*!\n * ${copyright}\n */\n\nimport ObjectPath from \"sap/base/util/ObjectPath\";\n\nimport * as coreLib from \"sap/ui/core/library\"\ncoreLib; // prevent removal of unused import which is needed to load the core lib asynchronously\n\n/**\n * Initialization Code and shared classes of library ui5.cc.timerbutton.\n */\n\n// delegate further initialization of this library to the Core\n// Hint: sap.ui.getCore() must still be used here to support preload with sync bootstrap!\nsap.ui.getCore().initLibrary({\n\tname: \"ui5.cc.timerbutton\",\n\tversion: \"${version}\",\n\tdependencies: [\n\t\t// keep in sync with the ui5.yaml and .library files\n\t\t\"sap.ui.core\",\n\t\t\"sap.m\"\n\t],\n\ttypes: [],\n\tinterfaces: [],\n\tcontrols: [\"ui5.cc.timerbutton.TimerButton\"],\n\telements: [],\n\tnoLibraryCSS: false // if no CSS is provided, you can disable the library.css load here\n});\n\n/**\n * Eventtypes ths TimerButton can handle\n *\n * @enum {string}\n * @public\n */\nexport enum TimeoutEventType {\n\t/**\n\t * enabled event of the button\n\t * @public\n\t */\n\tenabled = \"enabled\",\n\n\t/**\n\t * visible event of the button\n\t * @public\n\t */\n\tvisible = \"visible\"\n}\n\n// get the library object from global object space because all enums must be attached to it to be usable as UI5 types\n// FIXME: this line is planned to become obsolete and may need to be removed later\nconst thisLib: { [key: string]: unknown } = ObjectPath.get(\"ui5.cc.timerbutton\") as {\n\t[key: string]: unknown;\n};\n\n// export the library namespace\nexport default thisLib;\n"],"mappings":"AAAA;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,4DAAAC,EAAAC,GAAA,aAOAA,EAQAJ,IAAIC,GAAGI,UAAUC,YAAY,CAC5BC,KAAM,qBACNC,QAAS,aACTC,aAAc,CAEb,cACA,SAEDC,MAAO,GACPC,WAAY,GACZC,SAAU,CAAC,kCACXC,SAAU,GACVC,aAAc,QAGf,IAMYC,EAAgB,SAAhBA,KAAgB,qBAAhBA,EAAgB,4BAAhBA,CAAgB,EAAhBA,GAAgB,IAgB5B,MAAMC,EAAsCb,EAAWc,IAAI,sBAI3DD,EAAAD,mBAAA,OACeC,CAAO","sourceRoot":""}}]}